<ngx-spinner>
    <p style="color: white;">
        <strong>{{ spinnerMsg }}</strong>
    </p>
</ngx-spinner>
<div class='main-div' *ngIf="!showProfile">
    <div class='search-input-div'>
        <select class="form-select form-select-sm search-select"
                (change)="onSearchOptionChange($event)">
            <option value="email">Email</option>
            <option value="name">Name</option>
        </select>
        <div class='search-input-group'>
            <fa-icon [icon]="faSearch" class='search-icon'></fa-icon>
            <input [(ngModel)]="searchInput"
                   class='search-input' [placeholder]="searchPlaceholder" />
            <fa-icon [icon]="faTimesCircle" class='cancel-icon' (click)="removeSearchInput()"></fa-icon>
        </div>
        <button type="button" class="search-btn"
                [disabled]="searchInput === ''" (click)="onSearch()">
            Search
        </button>
    </div>
    <div class='search-output-div'>
        <div *ngFor="let user of searchedFriendArr; let idx = index" class='search-output-item-div'>
            <div class='user-profile-image-div'>
                <a [routerLink]="['/profile', user.user_uuid]" class="profile-a">
                    <img [src]="friendProfileImgUrlArr[idx]"
                     class="profile-image" onerror="this.src='/assets/user.png'">
                </a>
            </div>
            <div class='user-info-div'>
                <div>
                    <span class='profile-link' (click)="onClickProfile(user)">
                        {{ user.first_name}} {{ user.middle_name }} {{ user.last_name }}
                    </span>
                </div>
                <div>{{ user.description }}</div>
            </div>
        </div>
        <div *ngFor="let user of searchedUserArr; let idx = index" class='search-output-item-div'>
            <div class='user-profile-image-div'>
                <a [routerLink]="['/profile', user.user_uuid]" class="profile-a">
                    <img [src]="userProfileImgUrlArr[idx]"
                        class="profile-image" onerror="this.src='/assets/user.png'">
                </a>
            </div>
            <div class='user-info-div'>
                <div>
                    <span class='profile-link' (click)="onClickProfile(user)">
                        {{ user.first_name}} {{ user.middle_name }} {{ user.last_name }}
                    </span>
                </div>
                <div>{{ user.description }} </div>
            </div>
        </div>
    </div>
    <div *ngIf="searched && (!endOfFriendsSearch || !endOfUsersSearch)" class='search-more-div'>
        <span (click)="onSearchMore()" class='search-more-span'>See More</span>
    </div>
    <div *ngIf="endOfFriendsSearch && endOfUsersSearch" class='end-of-search-div'>
        End of Search
    </div>
</div>
<app-profile-public *ngIf="showProfile" [userUuid]="profileUuid" (backEvent)="onClickBack()">
</app-profile-public>